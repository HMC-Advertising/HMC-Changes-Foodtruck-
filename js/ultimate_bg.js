(function(e){function t(){e(".enable-on-viewport").each(function(t,n){var r=e(this).isVdoOnScreen();if(e(this).hasClass("hosted-video")&&!e(this).hasClass("override-controls")){if(r){e(this)[0].play();e(this).parent().parent().parent().find(".video-controls").attr("data-action","play");e(this).parent().parent().parent().find(".video-controls").html('<i class="wooicon-pause"></i>')}else{e(this)[0].pause();e(this).parent().parent().parent().find(".video-controls").attr("data-action","pause");e(this).parent().parent().parent().find(".video-controls").html('<i class="wooicon-play"></i>')}}})}e(window).scroll(function(){t()});e.fn.isVdoOnScreen=function(){var t=e(window);var n={top:t.scrollTop(),left:t.scrollLeft()};n.right=n.left+t.width();n.bottom=n.top+t.height()-200;var r=this.offset();r.right=r.left+this.outerWidth();r.bottom=r.top+this.outerHeight()-300;return!(n.right<r.left||n.left>r.right||n.bottom<r.top||n.top>r.bottom)};e.fn.ultimate_video_bg=function(n){e(this).each(function(){var r=e(this);var i=r.data("ultimate-video");var s=r.data("ultimate-video2");var o=r.data("ultimate-video-muted");var u=r.data("ultimate-video-loop");var a=r.data("ultimate-video-autoplay");var f=r.data("ultimate-video-poster");var l=r.data("bg-override");var c=r.data("start-time");var h=r.data("stop-time");var p=r.data("upb-bg-animation");var d=r.data("upb-overlay-color");var v=r.data("viewport-video");var m=r.data("controls");var g=r.data("controls-color");if(d!=""){d='<div class="upb_bg_overlay" style="background-color:'+d+'"></div>'}else{}if(h!=0){h=h}else{h=""}var y=r.prev();r.remove();r=y;var b=r.html();r.addClass("upb_video_class");r.attr("data-upb_br_animation",p);if(i){if(i.indexOf("youtube.com")!=-1){n="youtube"}else if(i.indexOf("vimeo.com")!=-1){n="vimeo"}}var w="";if(m=="display_control"){w='<span class="video-controls" data-action="play" style="color:'+g+'"><i class="wooicon-pause"></i></span>'}if(n=="youtube"||n=="vimeo"){r.html(' <div class="upb_video-wrapper"><div class="upb_video-bg utube" data-bg-override="'+l+'"></div><div class="upb_video-text-wrapper"><div class="upb_video-text"></div></div></div>')}else{r.html(' <div class="upb_video-wrapper"><div class="upb_video-bg" data-bg-override="'+l+'"><video class="upb_video-src"  ></video>'+d+'</div><div class="upb_video-text-wrapper"><div class="upb_video-text"></div></div></div>'+w)}r.find(".upb_video-text").html(b);if(n=="youtube"){i=i.substring(i.indexOf("watch?v=")+8,i.indexOf("watch?v=")+19);var E=r.find(".upb_video-bg");if(u=="loop")u=true;if(o=="muted")o=true;E.attr("data-vdo",i);E.attr("data-loop",u);E.attr("data-poster",f);E.attr("data-muted",o);E.attr("data-start",c);E.attr("data-stop",h);if(v===true){E.addClass("enable-on-viewport");E.addClass("youtube-video");t()}}else if(n=="vimeo"){i=i.substring(i.indexOf("vimeo.com/")+10,i.indexOf("vimeo.com/")+18);var E=r.find(".upb_video-bg");E.html('<iframe class="upb_vimeo_iframe" src="http://player.vimeo.com/video/'+i+'?portrait=0&byline=0&title=0&badge=0&loop=0&autoplay=1&api=1&rel=0&" height="1600" width="900" frameborder=""></iframe>')}else{var E=r.find(".upb_video-src");if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){e("<source/>",{type:"video/mp4",src:i}).appendTo(E);if(s!=""){var S="";if(s.match(/.ogg/i))S="video/ogg";else if(s.match(/.webm/i))S="video/webm";if(S!=""){e("<source/>",{type:S,src:s}).appendTo(E)}}if(o=="muted"){E.attr({muted:o})}if(u=="loop"){E.attr({loop:u})}if(f){E.attr({poster:f})}E.attr({preload:"auto"});if(v===true){E.addClass("enable-on-viewport");E.addClass("hosted-video");t()}else{if(a=="autoplay"){E.attr({autoplay:a})}}}else{if(f!="")E.parent().css({"background-image":"url("+f+")"});E.remove()}}var x=function(){var t,n,i,s="",o="";i=r;r=r.find(".upb_video-bg");if(l=="full"){i=e("body")}if(l=="ex-full"){i=e("html")}if(!isNaN(l)){for(var u=0;u<l;u++){if(i.prop("tagName")!="HTML"){i=i.parent()}else{break}}}n=r.parents("upb_video_class").outerHeight();t=i.outerWidth();if(l=="browser_size"){n=e(window).height();t=e(window).width();i.css("min-height",n+"px")}r.css({"min-height":n+"px","min-width":t+"px"});if(i.offset()){s=i.offset().left;if(r.offset()){o=r.offset().left}}if(s!=""){if(o!=""){}}var a=t,f,c=n,h,p=r.find(".upb_vimeo_iframe");youvideoplayer=r.find(".upb_utube_iframe");embeddedvideoplayer=r.find(".upb_video-src");var d=16/9;if(p){if(a/d<c){f=Math.ceil(c*d);p.width(f).height(c).css({left:(a-f)/2,top:0})}else{h=Math.ceil(a/d);p.width(a).height(h).css({left:0,top:(c-h)/2})}}if(embeddedvideoplayer){if(a/(16/9)<c){f=Math.ceil(c*(16/9));embeddedvideoplayer.width(f).height(c).css({left:(a-f)/2,top:0})}else{h=Math.ceil(a/(16/9));embeddedvideoplayer.width(a).height(h).css({left:0,top:0})}}};x();e(window).resize(function(){x()})});return this};e.fn.ultimate_bg_shift=function(){e(this).each(function(){var t=e(this);var n=t.data("ultimate-bg");var r=t.data("ultimate-bg-style");var i=t.prev().css("background-color");var s=t.data("bg-img-repeat");var o=t.data("bg-img-size");var u=t.data("bg-img-position");var a=t.data("parallx_sense");var f=t.data("bg-override");var l=t.data("bg_img_attach");var c=t.data("upb-bg-animation");var h,p,d="";var d=t.data("upb-overlay-color");if(d!=""){}t.prev().prepend('<div class="upb_row_bg">'+d+"</div>");var v=t.prev();t.remove();t=v;t.css("background-image","");t=t.find(".upb_row_bg");t.attr("data-upb_br_animation",c);if(o!="automatic"){t.css({"background-size":o})}else{t.addClass("upb_bg_size_automatic")}t.css({"background-repeat":s,"background-position":u,"background-color":i});if(r=="vcpb-fs-jquery"||r=="vcpb-mlvp-jquery"){t.attr("data-img-array",n)}else{t.css({"background-image":n,"background-attachment":l})}t.attr("data-parallax_sense",a);t.attr("data-bg-override",f);t.addClass(r);var m=function(){var n,r,i,s,o;i=t.parent();if(f=="full"){i=e("body");s=0}if(f=="ex-full"){i=e("html");s=0}if(!isNaN(f)){for(var u=0;u<f;u++){if(i.prop("tagName")!="HTML"){i=i.parent()}else{break}}s=i.offset().left}r=t.parent().outerHeight();n=i.outerWidth();t.css({"min-height":r+"px","min-width":n+"px"});o=t.offset().left;t.css({left:-Math.abs(s-o)+"px"});if(f=="browser_size"){t.parent().css("min-height",e(window).height()+"px")}};m();e(window).resize(function(){m()})});return this};e.fn.ultimate_grad_shift=function(){e(this).each(function(){var t=e(this);var n=t.data("grad");var r=t.prev();var i=r.html();var s=e(this).data("bg-override");var o=t.data("upb-overlay-color");var u=t.data("upb-bg-animation");r.html("");if(o!=""){o='<div class="upb_bg_overlay" style="background-color:'+o+'"></div>'}r.prepend('<div class="upb_row_bg">'+o+'</div><div class="upb-background-text-wrapper"><div class="upb-background-text"></div></div>');t.remove();t=r;t.find(".upb-background-text").html(i);t.css("background-image","");t=t.find(".upb_row_bg");t.attr("data-upb_br_animation",u);n=n.replace("url(data:image/svg+xml;base64,","");var a=n.indexOf(";");n=n.substring(a+1);t.attr("style",n);t.attr("data-bg-override",s);if(s=="browser_size")t.parent().find(".upb-background-text-wrapper").addClass("full-browser-size")});return this};e.fn.ultimate_bg_color_shift=function(){e(this).each(function(){var t=e(this);var n=t.prev();var r=n.html();var i=e(this).data("bg-override");var s=e(this).data("bg-color");n.html("");n.prepend('<div class="upb_row_bg"></div><div class="upb-background-text-wrapper"><div class="upb-background-text"></div></div>');t.remove();t=n;t.find(".upb-background-text").html(r);t.css("background-image","");t=t.find(".upb_row_bg");t.css({background:s});t.attr("data-bg-override",i);if(i=="browser_size")t.parent().find(".upb-background-text-wrapper").addClass("full-browser-size")});return this};e.fn.ultimate_parallax_animation=function(t){function o(){var o;var u=0;var a=e(window).scrollTop();i.each(function(){if(e(this).data("upb_br_animation")=="upb_fade_animation"){o=e(this).offset().top;var i=e(this);var u=i.offset().top;var f=r(i);if(u+f<a||u>a+n-100){return}var l=s-a;if(u+f-n<a){var c=l/n;if(t=="parent"){var h=parseInt(e(this).css("opacity"));h+=c/2.3;e(this).parents(".wpb_row").css({opacity:h})}if(t=="self"){var h=parseInt(e(this).css("opacity"));h+=c/2.3;e(this).css({opacity:h})}}s=a}})}var n=e(window).height();var r=function(e){return e.height()};var i=e(this);var s=e(window).scrollTop();e(window).bind("scroll",o).resize(o);o()}})(jQuery);jQuery(document).ready(function(){var e=0;jQuery(".upb_content_video, .upb_content_iframe").prev().css("background-image","").css("background-repeat","");jQuery(".upb_content_video").ultimate_video_bg();jQuery(".upb_bg_img").ultimate_bg_shift();jQuery(".upb_no_bg").prev().css("background-image","").css("background-repeat","");jQuery(".upb_content_iframe").ultimate_video_bg();jQuery(".upb_grad").ultimate_grad_shift();jQuery(".upb_color").ultimate_bg_color_shift();var t=function(){jQuery(".upb_row_bg").each(function(){var e=jQuery(this).data("bg-override");var t,n;n=jQuery(this).parent();if(e=="browser_size"){t=jQuery("html")}if(e=="ex-full"){t=jQuery("html")}else if(e=="full"){t=jQuery("body")}else if(!isNaN(e)){t=n;for(var r=0;r<e;r++){if(t.is("html")){break}t=t.parent()}}var i=parseInt(t.css("paddingLeft"));var s=parseInt(t.css("paddingRight"));var o=i+s+t.width();var u=-(n.offset().left-t.offset().left);if(u>0){left=0}jQuery(this).css({width:o,left:u});if(e=="browser_size"){n.css("min-height",jQuery(window).height()+"px");var a=jQuery(this);if(n.find(".upb-background-text-wrapper").length>0){n.find(".upb-background-text-wrapper").css("min-height",jQuery(window).height()+"px")}}});jQuery(window).load(function(){jQuery(".upb_video-bg").each(function(t,n){var r=jQuery(this).data("bg-override");var i,s;s=jQuery(this).parents(".wpb_row");if(r=="browser_size"){i=jQuery("html")}if(r=="ex-full"){i=jQuery("html");jQuery(this).parents(".upb_video_class").css("overflow","visible")}else if(r=="full"){i=jQuery("body");jQuery(this).parents(".upb_video_class").css("overflow","visible")}else if(!isNaN(r)){i=s;for(var o=1;o<r;o++){if(i.is("html")){break}i=i.parent()}}var u=parseInt(i.css("paddingLeft"));var a=parseInt(i.css("paddingRight"));var f=parseInt(i.css("marginLeft"));var l=i.outerWidth();var c=jQuery(this).offset().left;var h=jQuery(this).position().left;var p=i.offset().left;var d=p-c;if(h<0)d=h+d;if(t==0)e=h;if(e>0)d=e;jQuery(this).css({width:l,"min-width":l,left:d});var v=16/9;pHeight=Math.ceil(l/v);children=jQuery(this).children();children.css({width:l,"min-width":l});var m=jQuery(this).css("background-image");if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){children.css({height:pHeight});if(r=="browser_size"){s.addClass("video-browser-size");s.css("min-height",jQuery(window).height()+"px");if(s.find(".upb_video-text-wrapper").length>0){s.find(".upb_video-text-wrapper").addClass("full-browser-size");s.find(".upb_video-text-wrapper").css("min-height",jQuery(window).height()+"px")}}}else{if(typeof m==="undefined"||m=="none"){children.css({"max-height":"auto",height:"auto"});s.css("min-height","auto")}}})})};t();jQuery(window).resize(function(){t()});jQuery(".video-controls").click(function(e){var t=jQuery(this).attr("data-action");var n=jQuery(this).parent().find(".upb_video-src");if(t=="pause"){jQuery(this).attr("data-action","play");n[0].play();jQuery(this).html('<i class="wooicon-pause"></i>')}else{jQuery(this).attr("data-action","pause");n[0].pause();jQuery(this).html('<i class="wooicon-play"></i>')}if(n.hasClass("enable-on-viewport")){n.addClass("override-controls")}})})